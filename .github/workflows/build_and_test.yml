name: Install GDAL Windows

on:
  workflow_dispatch:
  push:
    branches:
      - ci
jobs:
 name: Install GDAL

on:
  workflow_dispatch: # Allows manual trigger

jobs:
  install_gdal:
    runs-on: windows-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
        
      - name: Install OSGeo4W
        id: setup-osgeo4w
        uses: echoix/setup-OSGeo4W@v0.2.0
        with:
          packages: gdal-devel
      
      - name: Show OSGeo4W root
        run: echo "${{ steps.setup-osgeo4w.outputs.root }}"

      - name: Set PATH
        run: |
          setx PATH "%PATH%;C:\OSGeo4W\bin"
        
      - name: Verify GDAL installation
        run: gdalinfo --version